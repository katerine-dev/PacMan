<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Aprenda - Matem√°tica no Pac-Man</title>
    <link rel="stylesheet" href="./styles/aprenda.css" />

    <style>
      body {
        font-family: Arial, sans-serif;
        background: #111;
        color: #eee;
        margin: 0;
        padding: 1rem;
      }
      h1,
      h2 {
        text-align: center;
        color: #ffd700;
      }
      .section {
        margin: 2rem auto;
        max-width: 600px;
        padding: 1rem;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      }
      .grid {
        display: grid;
        grid-template-rows: repeat(5, 80px);
        grid-template-columns: repeat(5, 80px);
        gap: 4px;
        margin: 1rem auto;
        width: fit-content;
        border: 4px solid #555;
        position: relative;
      }
      .cell {
        width: 80px;
        height: 80px;
        background: #222;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        font-size: 0.75rem;
        color: rgba(255, 255, 255, 0.2);
      }
      /* Classe para blocos de parede */
      .cell.wall {
        background: #880000;
      }
      /* Classe para blocos ‚Äúlivres‚Äù (sem conte√∫do) */
      .cell:not(.wall):not(.pacman):not(.ghost) {
        background: #222;
      }
      /* Pac-Man */
      .cell.pacman {
        background: #000;
      }
      .cell.pacman::after {
        content: "üòÉ";
        font-size: 2.5rem;
        position: absolute;
      }
      /* Fantasma */
      .cell.ghost {
        background: #000;
      }
      .cell.ghost::after {
        content: "üëª";
        font-size: 2.5rem;
        position: absolute;
      }
      /* Destaque ao colidir */
      .cell.highlight {
        outline: 3px solid #ff4444;
      }
      /* Bot√µes */
      button {
        margin: 0.25rem;
        padding: 0.5rem 1rem;
        background: #ffd700;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-weight: bold;
      }
      button:hover {
        background: #ffcc00;
      }
      /* Exibi√ß√£o de vetores do fantasma */
      #vectorChoice {
        text-align: center;
        font-size: 1rem;
        margin-top: 0.5rem;
        color: #88ff88;
      }
      /* Exibi√ß√£o de eixos X/Y (no canto superior esquerdo da grid) */
      .axis {
        position: absolute;
        top: -20px;
        left: -20px;
        font-size: 0.65rem;
        color: rgba(255, 255, 255, 0.3);
      }
      .axis span {
        display: inline-block;
        width: 40px;
        text-align: center;
      }
      .axis.y {
        transform: rotate(-90deg);
        transform-origin: left top;
        top: 180px; /* centralizar verticalmente na grid */
        left: -40px;
      }
    </style>
  </head>

  <body>
    <h1>Como funciona o Pac-Man?</h1>

    <h3>
      Ok! O jogo foi divertido, n√©? E se eu te contar que por tr√°s de toda esta
      divers√£o existe matem√°tica? N√£o acredita?! Ent√£o vou te provar!
    </h3>
    <div style="display: flex; justify-content: center; gap: 40px">
      <div class="sectionMap">
        <!-- Eixos X (colunas) no topo -->
        <div class="axis">
          <!-- 5 colunas (0 a 4) -->
          <span>0</span><span>1</span><span>2</span><span>3</span><span>4</span>
        </div>
        <!-- Eixos Y (linhas) na lateral -->
        <div class="axis y">
          <!-- 5 linhas (0 a 4) -->
          0
        </div>
        <div class="grid" id="grid"></div>
      </div>
      <div class="section">
        <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div>
          <h2>1. Movimento na Grade (Matriz)</h2>
          <p>
            Imagine que o labirinto do Pac-Man √© modelado como uma matriz
            bidimensional, para este exemplo, uma grade 5√ó5. Cada c√©lula tem
            coordenadas <code>[linha, coluna]</code>, onde ‚Äúlinha‚Äù √© o eixo Y
            (de cima para baixo) e ‚Äúcoluna‚Äù √© o eixo X (da esquerda para a
            direita), onde cada c√©lula (tile) tem um valor indicando se √©
            parede, corredor ou ponto a ser consumido.
          </p>

          <p>
            Posi√ß√£o do Pac-Man:
            <strong><span id="position">[0,0]</span></strong>
          </p>
          <p>
            Para as dire√ß√µes, utilizamos vetores e soma vetorial, representando
            cada dire√ß√£o (seta) com vetores unit√°rios.
          </p>
          <img
            src="./images/exemplosCodigo/exCodDir.jpeg"
            alt="exemplo direcao"
          />
          <div style="text-align: center">
            <button onclick="move(-1, 0)">‚Üë</button>
            <button onclick="move(1, 0)">‚Üì</button>
            <button onclick="move(0, -1)">‚Üê</button>
            <button onclick="move(0, 1)">‚Üí</button>
          </div>
          <p>
            <em>Observa√ß√£o:</em> Para mover o personagem, basta somar esse
            vetor, escalado pela velocidade, √† posi√ß√£o atual - ao clicar em uma
            das setas, somamos o vetor <code>(dx, dy)</code> √† posi√ß√£o atual,
            gerando <code>[linha+dx, coluna+dy]</code>. Se a nova posi√ß√£o
            estiver dentro da matriz e n√£o colidir com parede (valor 1 no mapa),
            o movimento √© v√°lido.
          </p>
          <img
            src="./images/exemplosCodigo/exCodPosi.jpeg"
            alt="exemplo posicao"
          />
          <p>
            Para dar um charme, acrescentamos um detalhe: conforme o PacMan
            segue uma dire√ß√£o, rotacionamos a imagem que o representa,
            utilizando as fun√ß√µes translate e rotate, que move o sistema de
            coordenada para o centro do pacman e rotaciona o canvas de acordo
            com o mesmo, respectivamente, baseadas em conteitos matem√°ticos.
          </p>
          <img
            src="./images/exemplosCodigo/translateRotate.jpg"
            alt="exemplo translate e rotate"
          />
        </div>

        <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div>
          <h2>2. Aplicando no Plano Cartesiano</h2>
          <p>
            No nosso labirinto, tratamos a linha como ‚ÄúY‚Äù (vertical) e a coluna
            como ‚ÄúX‚Äù (horizontal). Assim:
          </p>
          <ul>
            <li>
              Origem <code>[0,0]</code> fica no canto superior esquerdo da
              grade.
            </li>
            <li>Ao aumentar ‚Äúcoluna‚Äù (X), o personagem vai para a direita.</li>
            <li>Ao aumentar ‚Äúlinha‚Äù (Y), o personagem vai para baixo.</li>
          </ul>
          <p>
            Por exemplo, a posi√ß√£o <code>[3,1]</code> significa ‚Äúlinha 3‚Äù
            (quarto bloco de cima para baixo) e ‚Äúcoluna 1‚Äù (segundo bloco da
            esquerda para a direita). Ao somar o vetor <code>(1, 0)</code> a
            <code>[3,1]</code>, chega em <code>[4,1]</code> (um bloco para
            baixo). Ao somar <code>(0, ‚Äì1)</code> a <code>[3,1]</code>, chega em
            <code>[3,0]</code> (um bloco para a esquerda).
          </p>
          <p>
            <em>Como isso ajuda na detec√ß√£o de colis√µes:</em> Se quisermos que o
            Pac-Man coma uma ‚Äúpower pellet‚Äù na posi√ß√£o <code>[2,3]</code>, basta
            verificar se, ao chegar l√°, o valor em <code>map[2][3]</code> indica
            ‚Äúpellet‚Äù (neste exemplo, um 0 normal), e ent√£o ‚Äúremover‚Äù esse item
            da matriz, trocando <code>map[2][3]</code> para outro valor (por
            exemplo <code>-1</code> para indicar que j√° foi consumido). Se fosse
            uma parede (<code>map[2][3] === 1</code>), a colis√£o bloqueia o
            movimento.
          </p>
        </div>

        <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div>
          <h2>3. Detec√ß√£o de Colis√µes</h2>
          <p>
            Para saber se o Pac-Man pode andar para uma c√©lula, verificamos:
          </p>
          <ol>
            <li>
              Se a coordenada ‚Äúlinha‚Äù ou ‚Äúcoluna‚Äù resultante fica fora do
              intervalo
              <code>0 ‚â§ linha, coluna &lt; 5</code>, ent√£o h√° colis√£o com a
              borda da matriz.
            </li>
            <li>
              Se a c√©lula no <code>map[linha][coluna]</code> tiver valor
              <code>1</code>, significa que h√° uma parede e, portanto, o Pac-Man
              n√£o passa.
            </li>
          </ol>
          <p>
            Status do √∫ltimo movimento:
            <strong><span id="moveStatus">‚Äì</span></strong>
          </p>
          <p>
            Quando h√° colis√£o, destacamos em vermelho a c√©lula bloqueada e
            exibimos uma mensagem. Caso contr√°rio, atualizamos a posi√ß√£o do
            Pac-Man.
          </p>
        </div>

        <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div>
          <h2>4. Aleatoriedade do Fantasma (Vetores)</h2>
          <p>
            Cada fantasma escolhe uma entre quatro dire√ß√µes fixas:
            <code
              >{ dx: -1, dy: 0 }, { dx: 1, dy: 0 }, { dx: 0, dy: -1 }, { dx: 0,
              dy: 1 }</code
            >. Esses pares <code>(dx,dy)</code> s√£o vetores simples que indicam
            ‚Äúmover uma c√©lula para cima‚Äù, ‚Äúpara baixo‚Äù, ‚Äúpara a esquerda‚Äù ou
            ‚Äúpara a direita‚Äù na matriz.
          </p>
          <div style="display: flex; justify-content: center">
            <button onclick="moveGhost()">Mover Fantasma</button>
          </div>

          <p>
            Fantasma na posi√ß√£o:
            <strong><span id="ghostPos">[2,2]</span></strong>
          </p>
          <p>Vetores poss√≠veis: <code>(‚Äì1,0), (1,0), (0,‚Äì1), (0,1)</code></p>
          <p id="vectorChoice">√öltimo vetor escolhido: ‚Äì</p>
          <p>
            <em>Explica√ß√£o:</em> Toda vez que clicamos em ‚ÄúMover Fantasma‚Äù, ele
            randomicamente escolhe um vetor <code>(dx,dy)</code> e aplica na sua
            coordenada atual. Se o destino estiver livre (valor 0 no mapa), o
            fantasma se move; caso contr√°rio, permanece onde est√°.
          </p>
        </div>

        <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div>
          <h2>5. Intera√ß√µes e Anima√ß√µes Extras</h2>
          <p>
            1. √Åreas em que o Pac-Man pode ou n√£o se mover s√£o destacadas ao
            clicar em ‚Äú‚Üë ‚Üì ‚Üê ‚Üí‚Äù. 2. O fantasma muda de cor se estiver cercado
            por paredes (exemplo visual de colis√£o). 3. Podemos mostrar as
            coordenadas em cada c√©lula para refor√ßar o conceito de ‚Äúgrade XY‚Äù.
          </p>
          <div style="display: flex; justify-content: center">
            <button onclick="toggleShowCoords()">
              Mostrar/Ocultar Coordenadas
            </button>
          </div>

          <p>
            <em
              >Clique para ver em cada c√©lula qual √© o par
              <code>[linha,coluna]</code>.</em
            >
          </p>
        </div>
      </div>
    </div>

    <a href="index.html"><button>‚Üê Voltar ao Jogo</button></a>

    <script src="./src/Aprenda.js"></script>
  </body>
</html>
